{% extends "base.html" %}

{% block title %}
    {% if student %}Editar Aluno{% else %}Novo Aluno{% endif %} - Senai AutoHub
{% endblock %}

{% block content %}
<section class="form-card">
    <h1>{% if student %}Editar aluno{% else %}Novo aluno{% endif %}</h1>
    <form method="post"
          action="{% if student %}/students/{{ student.id }}/edit{% else %}/students/new{% endif %}"
          class="form">
        <label class="form__field">
            <span>Nome</span>
            <input type="text" name="name" value="{% if student %}{{ student.name }}{% elif student and student.name %}{{ student.name }}{% else %}{{ student.name if student else '' }}{% endif %}" required>
        </label>

        <label class="form__field">
            <span>E-mail</span>
            <input type="email" name="email" value="{% if student %}{{ student.email }}{% elif student and student.email %}{{ student.email }}{% else %}{{ student.email if student else '' }}{% endif %}" required>
        </label>

        <label class="form__field">
            <span>Senha {% if student %}(deixe em branco para manter){% endif %}</span>
            <input type="password" name="password" {% if not student %}required{% endif %}>
        </label>

        {% if error %}
            <p class="form__error">{{ error }}</p>
        {% endif %}

        <button type="submit" class="btn btn--primary">
            {% if student %}Atualizar{% else %}Salvar{% endif %}
        </button>
    </form>
</section>
{% endblock %}
